{"version":3,"sources":["Redux/helper-functions.js","Redux/users-reducer.js","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/Preloader/Preloader.module.css","components/Error404/Error404.module.css","api/api.js","components/Navigation/Navigation.module.css","serviceWorker.js","Redux/navigation-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","components/Auth/Auth.jsx","img/60&text=avatar.png","components/Auth/AuthContainer.jsx","components/Header/Header.jsx","img/60&text=logo.png","components/Navigation/Navigation.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Login/LoginForm/LoginForm.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","components/hoc/WithSuspense.js","components/Error404/Error404.jsx","App.js","index.js","components/Auth/Auth.module.css","components/Login/Login.module.css","img/loading.svg","components/Preloader/Preloader.jsx","components/Header/Header.module.css","Redux/profile-reducer.js","Redux/messages-reducer.js"],"names":["updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","TOTAL_USERS_COUNT","SET_IS_FETCHING","SET_FOLLOW_IN_PROGRESS","initialState","users","page","pageSize","totalUsersCount","isFetching","followInProgress","usersReducer","state","action","type","userId","followed","count","status","filter","id","setFollow","setUsers","setIsFetching","setFollowInProgress","getUsers","dispatch","a","getUsersApi","response","totalCount","toggleFollowUser","unfollowUser","resultCode","followUser","module","exports","instance","axios","create","baseURL","withCredentials","mode","headers","delete","then","data","post","get","getUser","authMe","getStatus","updateStatus","text","put","loginMe","logoutMe","uploadAvatar","image","formData","FormData","append","uploadProfileInfo","profileInfo","getCaptcha","Boolean","window","location","hostname","match","onlineFriends","name","SET_USER_DATA","SET_USER_PHOTO","SET_AUTH_ERROR","SET_LOGIN_ERROR","SET_LOGOUT_ERROR","SET_CAPTCHA_URL","email","login","isAuth","userPhoto","errorLogin","errorAuth","errorLogout","captchaUrl","setUserData","payload","setAuthError","setLoginError","setLogoutError","setCaptchaUrl","getAuthUserData","photos","small","messages","getCaptchaUrl","url","SET_INITIALIZED","initialized","reducers","combineReducers","profilePage","profileReducer","messagesPage","messagesReducer","navigationBlock","usersPage","auth","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Auth","photoURL","setUserLogout","className","style","auth_wrapper","link","to","profile","logo","src","alt","width","height","logout","onClick","link_login","AuthContainer","this","props","React","Component","connect","Header","header","title","Navigation","nav","menu","activeClassName","activeLink","News","dialogs","Music","Settings","LoginForm","setUserLogin","validation","Yup","required","password","login_container","initialValues","captcha","validationSchema","onSubmit","values","setSubmitting","isSubmitting","form","htmlFor","placeholder","component","captcha_label","login_button","disabled","error_login","Login","LoginContainer","withSuspense","fallback","Preloader","Error404","error404","Messages","lazy","ProfileContainer","UsersContainer","App","catchUnhandledErrors","event","alert","promise","reason","initializeApp","addEventListener","removeEventListener","path","exact","render","Promise","all","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","preloader","ADD_POST","DEL_POST","UPD_NEW_POST_TEXT","SET_USER_PROFILE","SET_STATUS","SET_IS_UPDATE","SET_AVATAR_SUCCESS","SET_IS_LOADED","SET_INFO_ERROR","SET_IS_ERROR","postData","likes","newPostText","isUpdate","isLoaded","errorInfo","isError","newID","length","newPost","el","newText","addPostActionCreator","deletePostActionCreator","updNewPostTextActionCreator","setIsUpdate","setIsError","setUserStatus","setInfoError","getUserInfo","getUserStatus","undefined","updateUserStatus","changeAvatar","photo","saveProfile","SEND_MESSAGE","UPD_NEW_MESSAGE_TEXT","textData","newMessageText","usersDialogData","lastElement","newMessage","sendMessageActionCreator","updNewMessageTextActionCreator"],"mappings":"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","file":"static/js/main.d9600398.chunk.js","sourcesContent":["// take item in array and change his properties\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item;\r\n    })\r\n}\r\n","import {followUser, getUsersApi, unfollowUser} from \"../api/api\";\r\nimport {updateObjectInArray} from \"./helper-functions\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst TOTAL_USERS_COUNT = 'users/TOTAL_USERS_COUNT';\r\nconst SET_IS_FETCHING = 'users/SET_IS_FETCHING';\r\nconst SET_FOLLOW_IN_PROGRESS = 'users/SET_FOLLOW_IN_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    page: 1,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    isFetching: false,\r\n    followInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(\r\n                    state.users,\r\n                    action.userId,\r\n                    'id',\r\n                    {followed: true}\r\n                )\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(\r\n                    state.users,\r\n                    action.userId,\r\n                    'id',\r\n                    {followed: false}\r\n                )\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                page: action.page,\r\n                users: [...action.users]\r\n            }\r\n        case TOTAL_USERS_COUNT:\r\n            return{\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case SET_IS_FETCHING:\r\n            return{\r\n                ...state,\r\n                isFetching: action.status\r\n            }\r\n        case SET_FOLLOW_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followInProgress: action.status ?\r\n                    [...state.followInProgress, action.userId] :\r\n                    [state.followInProgress.filter(id => id !== action.userId)]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const setFollow = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId: userId\r\n    }\r\n}\r\n\r\nexport const setUnfollow = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId: userId\r\n    }\r\n}\r\n\r\nexport const setUsers = (users, page) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users: users,\r\n        page: page\r\n    }\r\n}\r\n\r\nexport const setTotalUsersCount = (count) => {\r\n    return {\r\n        type: TOTAL_USERS_COUNT,\r\n        count: count\r\n    }\r\n}\r\n\r\nexport const setIsFetching = (status) => {\r\n    return {\r\n        type: SET_IS_FETCHING,\r\n        status: status\r\n    }\r\n}\r\n\r\nexport const setFollowInProgress = (status, userId) => {\r\n    return {\r\n        type: SET_FOLLOW_IN_PROGRESS,\r\n        status: status,\r\n        userId: userId\r\n    }\r\n}\r\n\r\nexport const getUsers = (page) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        let response = await getUsersApi(page)\r\n        dispatch(setUsers(response.items, page));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n        dispatch(setIsFetching(false));\r\n    }\r\n}\r\n\r\nexport const toggleFollowUser = (id, status) => {\r\n    return async (dispatch) => {\r\n        dispatch(setFollowInProgress(true, id));\r\n        if (status) {\r\n            let response = await unfollowUser(id)\r\n            if (response.resultCode === 0) {\r\n                dispatch(setUnfollow(id));\r\n            }\r\n            dispatch(setFollowInProgress(false, id));\r\n        } else {\r\n            let response = await followUser(id)\r\n            if (response.resultCode === 0) {\r\n                dispatch(setFollow(id))\r\n            }\r\n            dispatch(setFollowInProgress(false, id));\r\n        }\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"News_dialogs__3Py9f\",\"logo\":\"News_logo__3NbWC\",\"title\":\"News_title__14-Q7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Music_dialogs__6s8Hi\",\"logo\":\"Music_logo__wf8Q8\",\"title\":\"Music_title__1yUYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Settings_dialogs__1IBrX\",\"logo\":\"Settings_logo__3wHAw\",\"title\":\"Settings_title__WHUFA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2T-0M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error404\":\"Error404_error404__lKpG4\"};","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n        baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n        withCredentials: true,\r\n        mode: 'no-cors',\r\n        headers: {\r\n            'API-KEY': 'f849b47a-7b1a-4492-91e1-80a3db415ddd'\r\n        }\r\n    })\r\n\r\nexport const unfollowUser = (id) => {\r\n    return (\r\n        instance.delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const followUser = (id) => {\r\n    return (\r\n        instance.post(`follow/${id}`)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const getUsersApi = (page = 1) => {\r\n    return (\r\n        instance.get('users?page=' + page)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const getUser = (userId) => {\r\n    return (\r\n        instance.get(`profile/` + userId)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const authMe = () => {\r\n    return (\r\n        instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return (\r\n        instance.get('profile/status/' + userId)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const updateStatus = (text) => {\r\n    return (\r\n        instance.put('profile/status', {status: text})\r\n    )\r\n}\r\n\r\nexport const loginMe = (data) => {\r\n    return (\r\n        instance.post('auth/login', {...data})\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const logoutMe = () => {\r\n    return (\r\n        instance.delete('auth/login')\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nexport const uploadAvatar = (image) => {\r\n    let formData = new FormData();\r\n    formData.append('image', image)\r\n    return (\r\n        instance.put('profile/photo', formData)\r\n    )\r\n}\r\n\r\nexport const uploadProfileInfo = (profileInfo) => {\r\n    return (\r\n        instance.put('profile', profileInfo)\r\n    )\r\n}\r\n\r\nexport const getCaptcha = () => {\r\n    return (\r\n        instance.get('security/get-captcha-url')\r\n    )\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__2NCx9\",\"menu\":\"Navigation_menu__1jN69\",\"item\":\"Navigation_item__1bvgQ\",\"activeLink\":\"Navigation_activeLink__1k8-o\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {\r\n    onlineFriends: [\r\n        {id: 0, name: 'Kus Kabanov'},\r\n        {id: 1, name: 'Gus Kabanov'},\r\n    ]\r\n}\r\n\r\nexport const navigationReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n","import {authMe, getCaptcha, getUser, loginMe, logoutMe} from \"../api/api\";\r\n\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_USER_PHOTO = 'auth/SET_USER_PHOTO';\r\nconst SET_AUTH_ERROR = 'auth/SET_AUTH_ERROR';\r\nconst SET_LOGIN_ERROR = 'auth/SET_LOGIN_ERROR';\r\nconst SET_LOGOUT_ERROR = 'auth/SET_LOGOUT_ERROR';\r\nconst SET_CAPTCHA_URL = 'auth/SET_CAPTCHA_URL';\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    userPhoto: null,\r\n    errorLogin: null,\r\n    errorAuth: null,\r\n    errorLogout: null,\r\n    captchaUrl: null\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return  {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        case SET_USER_PHOTO:\r\n            return  {\r\n                ...state,\r\n                userPhoto: action.userPhoto\r\n            }\r\n        case SET_AUTH_ERROR:\r\n            return  {\r\n                ...state,\r\n                errorAuth: action.errorAuth\r\n            }\r\n        case SET_LOGIN_ERROR:\r\n            return  {\r\n                ...state,\r\n                errorLogin: action.errorLogin\r\n            }\r\n        case SET_LOGOUT_ERROR:\r\n            return  {\r\n                ...state,\r\n                errorLogout: action.errorLogout\r\n            }\r\n        case SET_CAPTCHA_URL:\r\n            return  {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const setUserData = (id, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        payload: {id, email, login, isAuth}\r\n    }\r\n}\r\n\r\nexport const setUserPhoto = (userPhoto) => {\r\n    return {\r\n        type: SET_USER_PHOTO,\r\n        userPhoto\r\n    }\r\n}\r\n\r\nexport const setAuthError = (errorAuth) => {\r\n    return {\r\n        type: SET_AUTH_ERROR,\r\n        errorAuth\r\n    }\r\n}\r\n\r\nexport const setLoginError = (errorLogin) => {\r\n    return {\r\n        type: SET_LOGIN_ERROR,\r\n        errorLogin\r\n    }\r\n}\r\n\r\nexport const setLogoutError = (errorLogout) => {\r\n    return {\r\n        type: SET_LOGOUT_ERROR,\r\n        errorLogout\r\n    }\r\n}\r\n\r\nexport const setCaptchaUrl = (captchaUrl) => {\r\n    return {\r\n        type: SET_CAPTCHA_URL,\r\n        captchaUrl\r\n    }\r\n}\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    dispatch(setAuthError(null));\r\n    let response = await authMe();\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(setUserData(id, email, login, true));\r\n        getUser(id).then(response => {\r\n            dispatch(setUserPhoto(response.photos.small));\r\n        })\r\n    } else {\r\n        dispatch(setAuthError(response.messages));\r\n    }\r\n}\r\n\r\nexport const setUserLogin = (data) => async (dispatch) => {\r\n    dispatch(setLoginError(null));\r\n    let response = await loginMe(data)\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.resultCode === 10){\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        dispatch(setLoginError(response.messages));\r\n    }\r\n}\r\n\r\nexport const setUserLogout = () => async (dispatch) => {\r\n    dispatch(setLogoutError(null));\r\n    let response = await logoutMe()\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false))\r\n    } else {\r\n        dispatch(setLogoutError(response.messages));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    dispatch(setCaptchaUrl(null));\r\n    let response = await getCaptcha();\r\n    dispatch(setCaptchaUrl(response.data.url));\r\n}\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'app/SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return  {\r\n                ...state,\r\n                initialized : true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setInitialized = () => {\r\n    return {\r\n        type: SET_INITIALIZED,\r\n    }\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise]).then(() => {\r\n            dispatch(setInitialized());\r\n        }\r\n    )\r\n}\r\n\r\n\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {messagesReducer} from \"./messages-reducer\";\r\nimport {navigationReducer} from \"./navigation-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    messagesPage : messagesReducer,\r\n    navigationBlock : navigationReducer,\r\n    usersPage : usersReducer,\r\n    auth : authReducer,\r\n    app : appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; //for redux-dev-tools extension\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware)); //for production\r\n\r\nwindow.store = store;\r\n\r\nexport {store};\r\n","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nimport style from \"../Auth/Auth.module.css\";\r\nimport avatar from '../../img/60&text=avatar.png';\r\n\r\n\r\nconst Auth = ({isAuth, login, photoURL, setUserLogout}) => {\r\n    return (\r\n        <div className={style.auth_wrapper}>\r\n            {\r\n                isAuth ?\r\n                    <NavLink className={style.link} to={'/profile'}>\r\n                        <div className={style.auth}>\r\n                            <p className={style.profile}>{login}</p>\r\n                            <img className={style.logo}\r\n                                 src={\r\n                                     photoURL != null\r\n                                         ? photoURL :\r\n                                         avatar\r\n                                 }\r\n                                 alt=\"logged user\"\r\n                                 width={60}\r\n                                 height={60}\r\n                            />\r\n                            <button className={style.logout} onClick={setUserLogout} type={'button'}>Logout</button>\r\n                        </div>\r\n                    </NavLink>\r\n                     :\r\n                    <NavLink className={style.link_login} to={'/login'}>Login</NavLink>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Auth;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAG1BMVEXMzMwAAABmZmZMTEyysrKZmZkzMzN/f38ZGRmd8qOJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAnUlEQVQ4je2QsQrCMBRFL5qmv1GIdQ6NdA4KzkHEWQrZA/oBbv62yXutjYviqrnL4XLyEvKAkpL/i7Bv9cJ9q5XZVAGVixTrbpU69CVM2uKAM5Y2cXu11IeQzUu02BH5col79p7po2yJSSfeZu3jaRmv9+O0p/b8qsYe9bFhOu4vugc6S6wD91lDqRNgmGLQxExPiySKj4stKfm1PACaQRggGp1fXAAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport Auth from \"./Auth\";\r\nimport {setUserLogout} from \"../../Redux/auth-reducer\";\r\n\r\n\r\nclass AuthContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Auth {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    photoURL: state.auth.userPhoto,\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {setUserLogout}\r\n)(AuthContainer);\r\n\r\n","import React from 'react';\r\n\r\nimport style from './Header.module.css';\r\nimport logo from '../../img/60&text=logo.png';\r\nimport AuthContainer from \"../Auth/AuthContainer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Header = () => {\r\n    return(\r\n        <header className={style.header}>\r\n            <img className={style.logo} src={logo} alt=\"logo\" width={60} height={60}/>\r\n            <h1 className={style.title}><NavLink to='/'>MonoChrome</NavLink></h1>\r\n            <AuthContainer />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAG1BMVEXMzMwAAACZmZmysrJmZmYZGRkzMzNMTEx/f3/CT9STAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA5UlEQVQ4je2QsQuCQBTGv/TMxiDar0JarxxqtMFaQ/BqjMJmKcn1lv7v7nkQGadrEH5wfvp+8t17D+jU6X/EW6k7/DEOBb2GphB+41hKDjylnCuwNDvXsX+Bk2CQwMkUHgIBr+FAW4CeLi6UswfofOBCm8cn+tlXfqQtqWH68iPK8JRHwUUNj7SxnMBC9GiGnQVTawdYsAlnZSoVLOGFubVaTdXa0TJY/0bcMphZC7bp+AbLWhBf06ribjiYzD7GNloK4yzX/8y+6VuDUyOq+s4b0VqfWDTilSyze0uyO+WtN3f6tV7nCSIT4aW1XAAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nimport style from './Navigation.module.css';\r\n\r\n\r\nconst Navigation = () => {\r\n    return(\r\n        <nav className={style.nav}>\r\n            <ul className={style.menu}>\r\n                <li className={style.item}>\r\n                    <NavLink to=\"/profile\" activeClassName={style.activeLink}>Profile</NavLink>\r\n                </li>\r\n                <li className={style.item}>\r\n                    <NavLink to=\"/messages\" activeClassName={style.activeLink}>Messages</NavLink>\r\n                </li>\r\n                <li className={style.item}>\r\n                    <NavLink to=\"/news\" activeClassName={style.activeLink}>News</NavLink>\r\n                </li>\r\n                <li className={style.item}>\r\n                    <NavLink to=\"/music\" activeClassName={style.activeLink}>Music</NavLink>\r\n                </li>\r\n                <li className={style.item}>\r\n                    <NavLink to=\"/users\" activeClassName={style.activeLink}>Find users</NavLink>\r\n                </li>\r\n                <li className={style.item}>\r\n                    <NavLink to=\"/settings\" activeClassName={style.activeLink}>Settings</NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\n\r\nimport style from './News.module.css';\r\n\r\nconst News = () => {\r\n    return(\r\n        <div className={style.dialogs}>News</div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nimport style from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return(\r\n        <div className={style.dialogs}>Music</div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nimport style from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return(\r\n        <div className={style.dialogs}>Settings</div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport style from \"../Login.module.css\";\r\n\r\n\r\nexport const LoginForm = ({setUserLogin, errorLogin, captchaUrl}) => {\r\n    const validation = Yup.object({\r\n        email: Yup\r\n            .string()\r\n            .email('Invalid email address')\r\n            .required('Please Enter your email'),\r\n        password: Yup\r\n            .string()\r\n            .required('Please Enter your password')\r\n    })\r\n\r\n    const submit = (values, {setSubmitting}) => {\r\n        setUserLogin(values)\r\n        setSubmitting(false);\r\n    }\r\n\r\n    return (\r\n        <div className={style.login_container}>\r\n            <h1>Login</h1>\r\n\r\n            <Formik\r\n                initialValues={{email: '', password: '', captcha: ''}}\r\n                validationSchema={validation}\r\n                onSubmit={submit}\r\n            >\r\n                {({ isSubmitting}) => (\r\n                    <Form className={style.form}>\r\n                        <label htmlFor={'email'}>email:</label>\r\n                        <Field\r\n                            type={'email'}\r\n                            name={'email'}\r\n                            placeholder={'Your email'}\r\n                        />\r\n                        <ErrorMessage name=\"email\" component=\"div\" />\r\n                        <label htmlFor={'password'}>password:</label>\r\n                        <Field\r\n                            type={'password'}\r\n                            name={'password'}\r\n                            placeholder={'Your password'}\r\n                        />\r\n                        <ErrorMessage name=\"password\" component=\"div\"/>\r\n                        <label>\r\n                            <Field\r\n                                type={'checkbox'}\r\n                                name={'rememberMe'}\r\n                            />Remember me\r\n                        </label>\r\n                        {\r\n                            captchaUrl ?\r\n                                <label className={style.captcha_label}>\r\n                                    <img src={captchaUrl} alt={'captcha'} width={120} height={50} />\r\n                                    Symbols from image\r\n                                    <Field\r\n                                        type={'textarea'}\r\n                                        name={'captcha'}\r\n                                    />\r\n                                </label> :\r\n                                null\r\n                        }\r\n                        <button className={style.login_button} type=\"submit\" disabled={isSubmitting}>\r\n                            Login\r\n                        </button>\r\n                        {\r\n                            errorLogin ?\r\n                                <p className={style.error_login}>Error: {errorLogin}</p> :\r\n                                null\r\n                        }\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport {LoginForm} from \"./LoginForm/LoginForm\";\r\n\r\n\r\nexport const Login = ({isAuth, setUserLogin, errorLogin, captchaUrl}) => {\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n    return <LoginForm\r\n        setUserLogin={setUserLogin}\r\n        errorLogin={errorLogin}\r\n        captchaUrl={captchaUrl}\r\n    />\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {Login} from \"./Login\";\r\nimport {setUserLogin} from \"../../Redux/auth-reducer\";\r\n\r\n\r\nclass LoginContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Login {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth : state.auth.isAuth,\r\n    errorLogin: state.auth.errorLogin,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {setUserLogin}\r\n)(LoginContainer);\r\n\r\n","import React, {Suspense} from 'react';\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return(props) => {\r\n        return (\r\n            <Suspense fallback={<Preloader/>}>\r\n                <Component {...props}/>\r\n            </Suspense>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nimport style from './Error404.module.css';\r\n\r\nconst Error404 = () => {\r\n    return(\r\n        <div className={style.error404}>404 Not found</div>\r\n    )\r\n}\r\n\r\nexport default Error404;\r\n","import React from 'react';\r\nimport {\r\n    HashRouter,\r\n    BrowserRouter,\r\n    Route,\r\n    Switch,\r\n    Redirect\r\n} from \"react-router-dom\"; //only for github-pages, for production use BrowserRouter\r\nimport {connect} from \"react-redux\";\r\n\r\nimport './App.css';\r\nimport Header from \"./components/Header/Header\";\r\nimport Navigation from \"./components/Navigation/Navigation\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./components/Preloader/Preloader\";\r\nimport {withSuspense} from \"./components/hoc/WithSuspense\";\r\nimport Error404 from \"./components/Error404/Error404\";\r\n\r\nconst Messages = React.lazy(() => import('./components/Messages/Messages'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n    catchUnhandledErrors = (event) => {\r\n        alert(event.promise + ' ' + event.reason);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchUnhandledErrors);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            !this.props.initialized ?\r\n            <Preloader /> :\r\n            <HashRouter>\r\n                <div className={'wrapper'}>\r\n                    <Header/>\r\n\r\n                    <Navigation/>\r\n\r\n                    <div className={'content-wrapper'}>\r\n                        <Switch>\r\n                            <Route path=\"/\"\r\n                                   exact><Redirect to='/profile'/>\r\n                            </Route>\r\n                            <Route path=\"/profile/:userId?\"\r\n                                   render={withSuspense(ProfileContainer)}\r\n                            />\r\n                            <Route path=\"/messages\"\r\n                                   render={withSuspense(Messages)}\r\n                            />\r\n                            <Route path=\"/news\"\r\n                                   render={() =>\r\n                                       <News/>}\r\n                            />\r\n                            <Route path=\"/music\"\r\n                                   render={() =>\r\n                                       <Music/>}\r\n                            />\r\n                            <Route path=\"/users\"\r\n                                   render={withSuspense(UsersContainer)}\r\n                            />\r\n                            <Route path=\"/settings\"\r\n                                   render={() =>\r\n                                       <Settings/>}\r\n                            />\r\n                            <Route path=\"/login\"\r\n                                   render={() =>\r\n                                       <LoginContainer/>}\r\n                            />\r\n                            <Route path={\"*\"}\r\n                                   render={() => <Error404 />}\r\n                            />\r\n                        </Switch>\r\n\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized : state.app.initialized\r\n})\r\n\r\nexport default connect(mapStateToProps, {initializeApp})(App);\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from \"react-redux\";\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport './index.css';\r\nimport {store} from \"./Redux/redux-store\";\r\n\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>\r\n    ,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"Auth_auth__3hBI8\",\"auth_wrapper\":\"Auth_auth_wrapper__3vD4C\",\"profile\":\"Auth_profile__35qMM\",\"logo\":\"Auth_logo__2KRaK\",\"link\":\"Auth_link__1Nxxi\",\"logout\":\"Auth_logout__3HEuT\",\"link_login\":\"Auth_link_login__3MUFY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_container\":\"Login_login_container__36BlY\",\"error_login\":\"Login_error_login__3ddv5\",\"form\":\"Login_form__zKjBN\",\"login_button\":\"Login_login_button__1VGo7\",\"captcha_label\":\"Login_captcha_label__1D-Ol\"};","export default __webpack_public_path__ + \"static/media/loading.9347c7a8.svg\";","import React from 'react';\r\n\r\nimport style from './Preloader.module.css';\r\nimport preloader from \"../../img/loading.svg\";\r\n\r\nlet Preloader = () => {\r\n    return <img className={style.preloader} src={preloader} alt=\"loading\"/>\r\n}\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1qxEl\",\"logo\":\"Header_logo__36tBT\",\"title\":\"Header_title__3vCRQ\"};","import {getStatus, getUser, updateStatus, uploadAvatar, uploadProfileInfo} from \"../api/api\";\r\n\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst DEL_POST = 'profile/DEL-POST';\r\nconst UPD_NEW_POST_TEXT = 'profile/UPD-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\nconst SET_IS_UPDATE = 'profile/SET_IS_UPDATE';\r\nconst SET_AVATAR_SUCCESS = 'profile/SET_AVATAR_SUCCESS';\r\nconst SET_IS_LOADED = 'SET_IS_LOADED';\r\nconst SET_INFO_ERROR = 'SET_INFO_ERROR';\r\nconst SET_IS_ERROR = 'SET_IS_ERROR';\r\n\r\n\r\nlet initialState = {\r\n    postData: [\r\n        {id: 0, text: 'Hi everyone', likes: 5},\r\n        {id: 1, text: 'What\\'s next?', likes: 3},\r\n        {id: 2, text: 'For all values other than auto and content (defined above), ' +\r\n                'flex-basis is resolved the same way as width in horizontal ' +\r\n                'writing modes [CSS21], except that if a value would resolve ' +\r\n                'to auto for width, it instead resolves to content for flex-basis. ' +\r\n                'For example, percentage values of flex-basis are resolved against ' +\r\n                'the flex items containing block (i.e. its flex container); and if that ' +\r\n                'containing blocks size is indefinite, the used value for flex-basis is content. ' +\r\n                'As another corollary, flex-basis determines the size of the content box, ' +\r\n                'unless otherwise specified such as by box-sizing [CSS3UI].', likes: 900000}\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status: '',\r\n    isUpdate: false,\r\n    isLoaded: false,\r\n    errorInfo: null,\r\n    isError: true,\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newID = state.postData.length;\r\n            let newPost = {\r\n                id: newID,\r\n                text: state.newPostText,\r\n                likes: 0\r\n            }\r\n            return  {\r\n                ...state,\r\n                newPostText : '',\r\n                postData : [...state.postData, newPost]\r\n            };\r\n\r\n        case DEL_POST:\r\n            return  {\r\n                ...state,\r\n                postData : state.postData.filter(el => el.id !== action.id)\r\n            };\r\n\r\n\r\n        case UPD_NEW_POST_TEXT:\r\n            return {\r\n                ...state,\r\n                newPostText : action.newText\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile : action.profile\r\n            };\r\n\r\n        case SET_IS_UPDATE:\r\n            return{\r\n                ...state,\r\n                isUpdate: action.status\r\n            }\r\n\r\n        case SET_IS_ERROR:\r\n            return{\r\n                ...state,\r\n                isError: action.status\r\n            }\r\n\r\n        case SET_IS_LOADED:\r\n            return{\r\n                ...state,\r\n                isLoaded: action.status\r\n            }\r\n\r\n        case SET_STATUS:\r\n            return{\r\n                ...state,\r\n                status: action.text\r\n            }\r\n\r\n        case SET_AVATAR_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n\r\n        case SET_INFO_ERROR:\r\n            return  {\r\n                ...state,\r\n                errorInfo: action.errorInfo\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = () => {\r\n    return {\r\n        type: ADD_POST\r\n    }\r\n}\r\n\r\nexport const deletePostActionCreator = (id) => {\r\n    return {\r\n        type: DEL_POST,\r\n        id\r\n    }\r\n}\r\n\r\nexport const updNewPostTextActionCreator = (text) => {\r\n    return {\r\n        type: UPD_NEW_POST_TEXT,\r\n        newText: text\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\n\r\nexport const uploadAvatarSuccess = (photos) => ({type: SET_AVATAR_SUCCESS, photos})\r\n\r\nexport const setIsUpdate = (status) => {\r\n    return {\r\n        type: SET_IS_UPDATE,\r\n        status\r\n    }\r\n}\r\n\r\nexport const setIsLoaded = (status) => {\r\n    return {\r\n        type: SET_IS_LOADED,\r\n        status\r\n    }\r\n}\r\n\r\nexport const setIsError = (status) => {\r\n    return {\r\n        type: SET_IS_ERROR,\r\n        status\r\n    }\r\n}\r\n\r\nexport const setUserStatus = (text) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        text\r\n    }\r\n}\r\n\r\nexport const setInfoError = (errorInfo) => {\r\n    return {\r\n        type: SET_INFO_ERROR,\r\n        errorInfo\r\n    }\r\n}\r\n\r\nexport const getUserInfo = (id) => async (dispatch) => {\r\n    dispatch(setIsUpdate(true));\r\n    let response = await getUser(id)\r\n    dispatch(setUserProfile(response));\r\n    dispatch(setIsUpdate(false));\r\n    dispatch(setIsLoaded(true));\r\n}\r\n\r\nexport const getUserStatus = (id) => async (dispatch) => {\r\n    if (id === undefined) {\r\n        id = 16379;\r\n    }\r\n    dispatch(setIsUpdate(true));\r\n    let response = await getStatus(id)\r\n    dispatch(setUserStatus(response));\r\n    dispatch(setIsUpdate(false));\r\n}\r\n\r\nexport const updateUserStatus = (text) => async (dispatch) => {\r\n    let response = await updateStatus(text)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(text));\r\n    }\r\n}\r\n\r\nexport const changeAvatar = (photo) => async (dispatch) => {\r\n    dispatch(setIsUpdate(true));\r\n    let response = await uploadAvatar(photo)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(uploadAvatarSuccess(response.data.data.photos));\r\n    }\r\n    dispatch(setIsUpdate(false));\r\n}\r\n\r\nexport const saveProfile = (profileInfo, id) => async (dispatch) => {\r\n    dispatch(setInfoError(null));\r\n    let response = await uploadProfileInfo(profileInfo)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserInfo(id));\r\n        dispatch(setIsError(false));\r\n    } else {\r\n        dispatch(setIsError(true));\r\n        dispatch(setInfoError(response.data.messages));\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","const SEND_MESSAGE = 'messages/ADD-MESSAGE';\r\nconst UPD_NEW_MESSAGE_TEXT = 'messages/UPD-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    textData: [\r\n        {id: 0, name: 'Kus', text: 'Sup'},\r\n        {id: 1, name: 'Kus', text: 'Where my money?'}\r\n    ],\r\n    newMessageText: '',\r\n    usersDialogData: [\r\n        {id: 0, name: 'Kus Kabanov'},\r\n        {id: 1, name: 'Gus Kabanov'},\r\n        {id: 2, name: 'Srus Kabanov'}\r\n    ],\r\n}\r\n\r\nexport const messagesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let lastElement = state.textData.length;\r\n            let newID = lastElement + 1;\r\n            let newMessage = {\r\n                id: newID,\r\n                name: 'I',\r\n                text: state.newMessageText,\r\n            }\r\n            return  {\r\n                ...state,\r\n                newMessageText : '',\r\n                textData : [...state.textData, newMessage]\r\n            };\r\n\r\n        case UPD_NEW_MESSAGE_TEXT:\r\n            return  {\r\n                ...state,\r\n                newMessageText : action.newText\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const sendMessageActionCreator = () => {\r\n    return {\r\n        type: SEND_MESSAGE\r\n    }\r\n}\r\nexport const updNewMessageTextActionCreator = (text) => {\r\n\r\n    return {\r\n        type: UPD_NEW_MESSAGE_TEXT,\r\n        newText: text\r\n    }\r\n}\r\n"],"sourceRoot":""}