(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[3],{247:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(2),r=a(3),o=a(8),s=a(9),l=a(0),c=a.n(l),i=a(7),u=a(26),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(l,t);var a=Object(s.a)(l);function l(){return Object(n.a)(this,l),a.apply(this,arguments)}return Object(r.a)(l,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(i.a,{to:"/login"})}}]),l}(c.a.Component);return Object(u.b)(m)(t)}},248:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4BAMAAADLSivhAAAAG1BMVEXMzMwAAACZmZl/f38zMzMZGRlmZmZMTEyysrL3tI99AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABk0lEQVRYhe2TTU/CQBCGhyJtj6xQyrEgMR750MgRk3IvROBaYorXGm3CcTEm9mc7uy3tVlouxoNmnoRk33SemQ4LAARBEARBEARB/Em04Q/kC+//ytpk4gCYXIb4mHP5ajKG5HlaozBg1sJywOjKRq1jNnfBerfzQXtgK7YEMJpwy2bf5ecpNugKDTG8LLvztuuGoL9ybMBR/rDHJ5MFpg3wKA41P8vqzocQ3+yxVEXeALbi2YhnWZWNGRjtk3c+EmF3MdTNc0H2wLCq3DiSBWC28qzI5ifKnVKzHjGGbbVLAL2Z50y+XzDmpbdx4q6eYjlpg/WhklP5bj2NxeRmmdzz0x23uLej5ETWOunOpfIG0uLDEAI1J3IjPCOLVQHmongG60KWcs9JjqVyXXwRpiVPWlfNiSxv/nBucnKJHfwtKNnIJ79U7dzGTxDJRWtDNevycmrYUN9Uydu9OVgGckhQyKbN8T+o2/x9fl0l64zZXGoNu5hHjPnYjLG9XiWDdlOV+/LU56UaQRAEQRAEQRC/xRdch0llQRqPqAAAAABJRU5ErkJggg=="},249:function(e,t,a){e.exports={info:"UserInfo_info__2Ek47",wallpaper:"UserInfo_wallpaper__3d48-",avatarWrapper:"UserInfo_avatarWrapper__3RkSW",avatar:"UserInfo_avatar__1PrTB",avatarInput:"UserInfo_avatarInput__3_wRa",button:"UserInfo_button__3gLuS",otherAvatar:"UserInfo_otherAvatar__2lcMc",text:"UserInfo_text__1_AJZ",username:"UserInfo_username__3MjRS",contacts:"UserInfo_contacts__3enAm",status:"UserInfo_status__1dOFL",linkWrapper:"UserInfo_linkWrapper__1tzGI",link:"UserInfo_link__1Xm3F",openForm:"UserInfo_openForm__2Ojci"}},255:function(e,t,a){e.exports={userStatusWrapper:"UserStatus_userStatusWrapper__3Zaob",statusText:"UserStatus_statusText__3d-ts",otherStatusText:"UserStatus_otherStatusText__csgkd"}},256:function(e,t,a){e.exports={info:"UserContacts_info__2JyBs",wallpaper:"UserContacts_wallpaper__2KO9B",avatar:"UserContacts_avatar__1lh2L",text:"UserContacts_text__L5nDv",username:"UserContacts_username__2rSpr",contacts:"UserContacts_contacts__1XRwi"}},257:function(e,t,a){e.exports={job:"UserJob_job__3RMIG"}},258:function(e,t,a){e.exports={formContainer:"ChangeInfo_formContainer__1nqGR",title:"ChangeInfo_title__2F7oG",error_login:"ChangeInfo_error_login__RvpTN",contacts:"ChangeInfo_contacts__372v4",checkboxWrapper:"ChangeInfo_checkboxWrapper__1tgNZ",fieldWrapper:"ChangeInfo_fieldWrapper__1COj-",form:"ChangeInfo_form__2p9kj",label:"ChangeInfo_label__2x7Tj",save:"ChangeInfo_save__13mn8"}},259:function(e,t,a){e.exports={title:"Posts_title__18zvc",posts:"Posts_posts__14gOG"}},260:function(e,t,a){e.exports={writing:"WritePost_writing__8rW3Y"}},261:function(e,t,a){e.exports={wall:"PostsWall_wall__6tEVk"}},262:function(e,t,a){e.exports={wrapper:"Post_wrapper__UiDQ2",post:"Post_post__1PQg4",avatar:"Post_avatar__35EuW",text_wrapper:"Post_text_wrapper__3bCo1",text:"Post_text__kRCZN",likes:"Post_likes__1Akax",button:"Post_button__NS7RG"}},266:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),s=a(7),l=a(41),c=a(249),i=a.n(c),u=a(248),m=a(51),p=a(255),f=a.n(p),_=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],s=a[1],c=Object(n.useState)(e.status),i=Object(l.a)(c,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){m(e.status)}),[e.status]),r.a.createElement("div",{className:f.a.userStatusWrapper},o?r.a.createElement("div",null,r.a.createElement("input",{type:"text",defaultValue:u,onChange:function(e){m(e.target.value)},onBlur:function(){s(!1),e.updateUserStatus(u)},onFocus:function(e){return e.target.select()},autoFocus:!0})):r.a.createElement("div",null,r.a.createElement("span",{className:e.isOwner?f.a.statusText:f.a.otherStatusText,title:e.isOwner?"Click to change status":null,onClick:e.isOwner?function(){s(!0)}:null},!e.status&&e.isOwner?"Write u'r status":e.status)))},b=a(256),A=a.n(b),E=function(e){var t=e.contacts,a=[];return Object.values(t).every((function(e){return null===e}))&&a.push(r.a.createElement("li",{key:"base"},"User dont add any contacts")),Object.keys(t).forEach((function(e){null!==t[e]&&a.push(r.a.createElement("li",{key:t[e]},e+": ",r.a.createElement("a",{href:t[e]},t[e])))}),t),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Contacts:"),r.a.createElement("ul",{className:A.a.contacts},a))},g=a(257),d=a.n(g),v=function(e){var t=e.lookingForAJob,a=e.description;return t?r.a.createElement("div",{className:d.a.job},r.a.createElement("p",null,"Looking for a job: Yes"),r.a.createElement("p",null,"Description: ",a)):r.a.createElement("div",{className:d.a.job},r.a.createElement("p",null,"Looking for a job: No"))},h=function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,o=e.isOwner,s=e.toggleEditMode;return r.a.createElement("div",{className:i.a.text},r.a.createElement("h2",{className:i.a.username},t.fullName),r.a.createElement(_,{status:a,updateUserStatus:n,isOwner:o}),r.a.createElement("p",null,"About me: "),r.a.createElement("p",null,null!=t.aboutMe?t.aboutMe:"User dont write about himself"),r.a.createElement(E,{contacts:t.contacts}),r.a.createElement(v,{lookingForAJob:t.lookingForAJob,description:t.lookingForAJobDescription}),o?r.a.createElement("div",{className:i.a.linkWrapper},r.a.createElement("button",{className:i.a.openForm,onClick:function(){return s(!0)}},"Change info")):null)},k=a(25),N=a(258),w=a.n(N),C=function(e){var t=e.lookingForAJob,a=e.lookingForAJobDescription,n=e.contacts,o=e.fullName,s=e.userId,l=e.toggleEditMode,c=e.errorInfo,i=e.saveProfile,u=e.isError,m=e.aboutMe,p=Object.keys(n).map((function(e){return r.a.createElement("div",{className:w.a.fieldWrapper,key:e},r.a.createElement("label",{className:w.a.label,htmlFor:e},e+": "),r.a.createElement(k.b,{type:"textarea",name:"contacts."+e}))}));return r.a.createElement("div",{className:w.a.formContainer},r.a.createElement("h1",{className:w.a.title},"Change info about yourself"),r.a.createElement(k.e,{initialValues:{lookingForAJob:t||"",lookingForAJobDescription:a||"",fullName:o||"",aboutMe:m||"",contacts:{facebook:n.facebook||null,website:n.website||null,vk:n.vk||null,twitter:n.twitter||null,instagram:n.instagram||null,youtube:n.youtube||null,github:n.github||null,mainLink:n.mainLink||null}},onSubmit:function(e,a){var n=a.setSubmitting;""===e.lookingForAJob&&(e.lookingForAJob=t),i(e,s),n(!1),l(!1),u&&l(!0)}},(function(e){var t=e.isSubmitting,a=e.values;return r.a.createElement(k.d,{className:w.a.form},r.a.createElement("div",{className:w.a.checkboxWrapper},r.a.createElement("label",{className:w.a.label,htmlFor:"lookingForAJob"},"Looking for a job: "),r.a.createElement(k.b,{type:"checkbox",name:"lookingForAJob"})),a.lookingForAJob?r.a.createElement("div",{className:w.a.fieldWrapper},r.a.createElement("label",{className:w.a.label,htmlFor:"lookingForAJobDescription"},"Description: "),r.a.createElement(k.b,{type:"textarea",name:"lookingForAJobDescription"})):null,r.a.createElement("div",{className:w.a.fieldWrapper},r.a.createElement("label",{className:w.a.label,htmlFor:"fullName"},"Full name: "),r.a.createElement(k.b,{type:"textarea",name:"fullName"})),r.a.createElement("div",{className:w.a.fieldWrapper},r.a.createElement("label",{className:w.a.label,htmlFor:"aboutMe"},"About me: "),r.a.createElement(k.b,{type:"textarea",name:"aboutMe"})),r.a.createElement("h2",{className:w.a.contacts},"Contacts: "),r.a.createElement(k.c,{name:n,render:function(e){return p}}),r.a.createElement("button",{className:w.a.save,type:"submit",disabled:t},"Save"),r.a.createElement("button",{className:w.a.save,type:"cancel",disabled:t,onClick:function(){return l(!1)}},"Cancel"))})),c?r.a.createElement("p",{className:w.a.error_login},"Error: ",c):null)},O=function(e){var t=e.profile,a=e.status,o=e.updateUserStatus,s=e.isUpdate,c=e.isOwner,p=e.changeAvatar,f=e.saveProfile,_=e.isError,b=e.errorInfo,A=Object(n.useState)(!1),E=Object(l.a)(A,2),g=E[0],d=E[1];if(!t||s)return r.a.createElement(m.a,null);var v=function(e){d(e)};return r.a.createElement("div",{className:i.a.info},r.a.createElement("div",{className:i.a.avatarWrapper},r.a.createElement("img",{className:c?i.a.avatar:i.a.otherAvatar,src:null!==t.photos.large?t.photos.large:u.a,alt:"avatar",width:300,height:300}),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",name:"avatarFile",id:"avatarFile",className:i.a.avatarInput,onChange:function(e){e.target.files.length&&p(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"avatarFile",className:i.a.button},"Upload new avatar")):null),g?r.a.createElement(C,{userId:t.userId,fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,contacts:t.contacts,toggleEditMode:v,saveProfile:f,isUpdate:s,aboutMe:t.aboutMe,isError:_,errorInfo:b}):r.a.createElement(h,{profile:t,status:a,updateUserStatus:o,isOwner:c,toggleEditMode:v}))},U=a(259),I=a.n(U),x=a(260),j=a.n(x),y=function(e){return r.a.createElement("div",{className:j.a.writing},r.a.createElement("textarea",{onChange:function(t){var a=t.target.value;e.postChange(a)},rows:"2",placeholder:"your news...",value:e.newPostText}),r.a.createElement("button",{className:j.a.button,onClick:function(){e.addPost()}},"Send"))},F=a(72),P=Object(o.b)((function(e){return{newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e(Object(F.a)())},postChange:function(t){e(Object(F.h)(t))}}}))(y),S=a(261),M=a.n(S),J=a(262),W=a.n(J),R=function(e){return r.a.createElement("li",{className:W.a.wrapper},r.a.createElement("div",{className:W.a.post},r.a.createElement("img",{className:W.a.avatar,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAG1BMVEXMzMwAAABmZmZMTEyysrKZmZl/f38zMzMZGRlslgPvAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAiklEQVQ4je2OQQqDMBBFP50EryGjdj2UHiAIgkshtN1Kwb3QC5Se3IwhEbryAHmr+fOY4QOFwj9y1lz4/oCduHH9rwsBLWdHBHJ6oTeEj0vC+GCAYTfG45u/Xb2dF/CiJgSsyfSoIGLqsJEYknniha62s1WjIRviBqPDjQXvVsPRPVYxccy9CgVlA5TbEZNm5yh5AAAAAElFTkSuQmCC",alt:"avatar",width:50,height:50}),r.a.createElement("p",{className:W.a.text},e.text)),r.a.createElement("p",{className:W.a.likes},"likes: ",e.likesCount),e.isOwner?r.a.createElement("button",{className:W.a.button,onClick:function(){e.delete(e.id)}},"Delete post"):null)},G=function(e){var t=e.posts.map((function(t){return r.a.createElement(R,{text:t.text,likesCount:t.likes,key:t.id,id:t.id,isOwner:e.isOwner,delete:e.deletePostActionCreator})}));return r.a.createElement("ul",{className:M.a.wall},t)},B=Object(o.b)((function(e,t){return{posts:e.profilePage.postData,isOwner:t.isOwner}}),{deletePostActionCreator:F.c})(G),D=function(e){var t=e.isOwner;return r.a.createElement("div",{className:I.a.posts},r.a.createElement("h3",{className:I.a.title},"My posts"),t?r.a.createElement(P,null):null,r.a.createElement(B,{isOwner:t}))},L=r.a.memo((function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,o=e.isUpdate,s=e.isOwner,l=e.changeAvatar,c=e.saveProfile,i=e.isError,u=e.errorInfo;return r.a.createElement("div",null,r.a.createElement(O,{profile:t,status:a,updateUserStatus:n,isUpdate:o,isOwner:s,changeAvatar:l,saveProfile:c,isError:i,errorInfo:u}),r.a.createElement(D,{isOwner:s}))})),T=a(247),Q=a(32),V=function(e){return e.profilePage.profile},z=function(e){return e.profilePage.status},X=function(e){return e.profilePage.isUpdate},Z=function(e){return e.auth.id},K=function(e){return e.profilePage.isError},H=function(e){return e.profilePage.errorInfo};t.default=Object(Q.d)(Object(o.b)((function(e){return{profile:V(e),status:z(e),id:Z(e),isUpdate:X(e),isError:K(e),errorInfo:H(e)}}),{getUserInfo:F.d,getUserStatus:F.e,updateUserStatus:F.i,changeAvatar:F.b,saveProfile:F.g}),s.g,T.a)((function(e){var t=e.match.params.userId;return t||(t=e.id),Object(n.useEffect)((function(){e.getUserInfo(t),e.getUserStatus(t)}),[t]),r.a.createElement(L,Object.assign({},e,{isOwner:!e.match.params.userId}))}))}}]);
//# sourceMappingURL=3.557d9658.chunk.js.map